<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--========== The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags ==========-->
<title>南风斜冷</title>

<!--==========Dependency============-->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="vendors/owl-carousel/assets/owl.carousel.css">
<link rel="stylesheet" href="vendors/magnific-popup/magnific-popup.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit:500">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:600,700italic">
<link href='https://fonts.googleapis.com/css?family=Dosis:400,200,300,500,600,800,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli:400,300,300italic,400italic">
<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500italic,500,700italic,700,900,900italic' rel='stylesheet' type='text/css'>

<!--==========Theme Styles==========-->
<link href="css/style.css" rel="stylesheet">
<link href="css/theme/green.css" rel="stylesheet">

<!--========== HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries ==========-->
<!--========== WARNING: Respond.js doesn't work if you view the page via file:// ==========-->
<!--==========[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
<![endif]==========-->
</head>
<body class="home">

<header class="row transparent white" data-spy="affix" data-offset-top="300" id="header">
    <div class="container">
        <div class="row top-header">
            <div class="col-sm-4 search-form-col">
                <form action="#" method="get" class="search-form">
                    <div class="input-group">
                        <span class="input-group-addon"><img src="images/search-icon-dark.png" alt=""></span>
                        <input type="search" class="form-control" placeholder="SEARCH">
                    </div>
                </form>
            </div>
            <div class="col-sm-4 logo-col text-center">
                <a href="index.html"><img src="images/logo-black-green.png" alt=""></a>
            </div>
            <div class="col-sm-4 menu-trigger-col">
                <button class="menu-trigger black pull-right">
                    <span class="active-page">Details</span>
                    <img src="images/menu-align-dark.png" alt="" class="icon-burger">
                    <img src="images/menu-close-dark.png" alt="" class="icon-cross">
                </button>
            </div>
        </div>
    </div>
    <div class="row menu-section">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 menu-col">
                    <div class="row">
                        <ul class="nav column-menu white-bg">
                            <li><a href="about.html">About</a></li>
                            <!-- <li><a href="single.html">Blog Single 1</a></li>
                            <li><a href="single2.html">Blog Single 2</a></li> -->
                        </ul>
                        <ul class="nav column-menu white-bg">
                            <!-- <li><a href="single3.html">Blog Single 3</a></li> -->

                            <li><a href="contact.html">contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<section class="row featured-post-carousel">
    <div class="item post">
        <img src="images/featured-posts/1.jpg" alt="" class="img-responsive main-bg">
        <div class="post-content">
            <div class="container">
                <h5 class="post-meta"><i>in</i> <a href="#">作者111</a> | <a href="#">2018年2月12日</a></h5>
                <h2 class="post-title"><a href="single.html">文章111</a></h2>
                <a href="single.html" class="btn btn-primary"><span>read more</span></a>
            </div>
        </div>
    </div>
    <div class="item post">
        <img src="images/featured-posts/1-1.jpg" alt="" class="img-responsive main-bg">        
        <div class="post-content">
            <div class="container">
                <h5 class="post-meta"><i>in</i> <a href="#">作者222</a> | <a href="#">2018年2月12日</a></h5>
                <h2 class="post-title"><a href="single.html">文章222</a></h2>
                <a href="single.html" class="btn btn-primary"><span>read more</span></a>
            </div>
        </div>
    </div>
    <div class="item post">
        <img src="images/featured-posts/1-2.jpg" alt="" class="img-responsive main-bg">        
        <div class="post-content">
            <div class="container">
                <h5 class="post-meta"><i>in</i> <a href="#">作者333</a> | <a href="#">2018年2月12日</a></h5>
                <h2 class="post-title"><a href="single.html">文章333</a></h2>
                <a href="single.html" class="btn btn-primary"><span>read more</span></a>
            </div>
        </div>
    </div>

    <div class="item post">
        <img src="images/featured-posts/1-2.jpg" alt="" class="img-responsive main-bg">        
        <div class="post-content">
            <div class="container">
                <h5 class="post-meta"><i>in</i> <a href="#">作者444</a> | <a href="#">2018年2月12日</a></h5>
                <h2 class="post-title"><a href="single.html">文章444</a></h2>
                <a href="single.html" class="btn btn-primary"><span>read more</span></a>
            </div>
        </div>
    </div>

</section>

<section class="row content-wrap">
    <div class="container">
        <div class="row" id="post-masonry">
            <!--Blog Post-->
            <article class="col-sm-4 post post-masonry post-format-image">
                <div class="post-wrapper row">
                    <div class="featured-content row">
                        <a href="single.html"><img src="images/posts/masonry/1.jpg" alt="" class="img-responsive"></a>
                    </div>
                    <div class="post-excerpt row">
                        <h5 class="post-meta">
                            <a href="#" class="date">feb 17, 2016</a>
                            <span class="post-author"><i>by</i><a href="#">Mark Sanders</a></span>
                        </h5>
                        <h3 class="post-title"><a href="single.html">博客标题1111</a></h3>
                        <p>博客内容11111</p>
                        <footer class="row">
                            <h5 class="taxonomy"><i>in</i> <a href="#">image</a>, <a href="#">entertainment</a></h5>
                            <div class="response-count"><img src="images/comment-icon-gray.png" alt="">5</div>
                        </footer>
                    </div>
                </div>
            </article>
            <!--Blog Post-->
            <article class="col-sm-4 post post-masonry post-format-image">
                <div class="post-wrapper row">
                    <div class="featured-content row">
                        <a href="single.html"><img src="images/posts/masonry/2.jpg" alt="" class="img-responsive"></a>
                    </div>
                    <div class="post-excerpt row">
                        <h5 class="post-meta">
                            <a href="#" class="date">feb 17, 2016</a>
                            <span class="post-author"><i>by</i><a href="#">Mark Sanders</a></span>
                        </h5>
                        <h3 class="post-title"><a href="single.html">博客标题222</a></h3>
                        <p>博客内容2222</p>
                        <footer class="row">
                            <h5 class="taxonomy"><i>in</i> <a href="#">image</a>, <a href="#">entertainment</a></h5>
                            <div class="response-count"><img src="images/comment-icon-gray.png" alt="">5</div>
                        </footer>
                    </div>
                </div>
            </article>

            <!--Blog Post-->
            <article class="col-sm-4 post post-masonry post-format-image">
                <div class="post-wrapper row">
                    <div class="featured-content row">
                        <a href="single.html"><img src="images/posts/masonry/2.jpg" alt="" class="img-responsive"></a>
                    </div>
                    <div class="post-excerpt row">
                        <h5 class="post-meta">
                            <a href="#" class="date">feb 17, 2016</a>
                            <span class="post-author"><i>by</i><a href="#">Mark Sanders</a></span>
                        </h5>
                        <h3 class="post-title"><a href="single.html">博客标题333</a></h3>
                        <p>博客内容333</p>
                        <footer class="row">
                            <h5 class="taxonomy"><i>in</i> <a href="#">image</a>, <a href="#">entertainment</a></h5>
                            <div class="response-count"><img src="images/comment-icon-gray.png" alt="">5</div>
                        </footer>
                    </div>
                </div>
            </article>

            <!--Blog Post-->
            <article class="col-sm-4 post post-masonry post-format-image">
                <div class="post-wrapper row">
                    <div class="featured-content row">
                        <a href="single.html"><img src="images/posts/masonry/1.jpg" alt="" class="img-responsive"></a>
                    </div>
                    <div class="post-excerpt row">
                        <h5 class="post-meta">
                            <a href="#" class="date">feb 17, 2016</a>
                            <span class="post-author"><i>by</i><a href="#">Mark Sanders</a></span>
                        </h5>
                        <h3 class="post-title"><a href="single.html">博客标题444</a></h3>
                        <p>博客内容444/p>
                        <footer class="row">
                            <h5 class="taxonomy"><i>in</i> <a href="#">image</a>, <a href="#">entertainment</a></h5>
                            <div class="response-count"><img src="images/comment-icon-gray.png" alt="">5</div>
                        </footer>
                    </div>
                </div>
            </article>

            <!--Blog Post-->
            <article class="col-sm-4 post post-masonry post-format-image">
                <div class="post-wrapper row">
                    <div class="featured-content row">
                        <a href="single.html"><img src="images/posts/masonry/1.jpg" alt="" class="img-responsive"></a>
                    </div>
                    <div class="post-excerpt row">
                        <h5 class="post-meta">
                            <a href="#" class="date">feb 17, 2016</a>
                            <span class="post-author"><i>by</i><a href="#">Mark Sanders</a></span>
                        </h5>
                        <h3 class="post-title"><a href="single.html">博客标题444</a></h3>
                        <p>博客内容444/p>
                        <footer class="row">
                            <h5 class="taxonomy"><i>in</i> <a href="#">image</a>, <a href="#">entertainment</a></h5>
                            <div class="response-count"><img src="images/comment-icon-gray.png" alt="">5</div>
                        </footer>
                    </div>
                </div>
            </article>

        </div>
    </div>
</section>

<!--Footer-->
<footer class="row" id="footer">
    <div class="container">
        <div class="row top-footer">
            <div class="widget col-sm-3 widget-about">
                <div class="row m0"><a href="index.html"><img src="images/logo-black-green.png" alt=""></a></div>
            </div>
            <div class="widget col-sm-5 widget-menu">
                <div class="row">
                    <ul class="nav column-menu white-bg">
                        <li class="active"><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                    <ul class="nav column-menu white-bg">
                        <li><a href="contact.html">contact</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <h5 class="copyright">Copyright &copy; 2017.Company name All rights reserved.</h5>
    </div>
</footer>

<!--========== jQuery (necessary for Bootstrap's JavaScript plugins) ==========-->
<script src="js/jquery-2.2.0.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="vendors/owl-carousel/owl.carousel.min.js"></script>
<script src="vendors/magnific-popup/jquery.magnific-popup.min.js"></script>
<script src="vendors/instafeed/instafeed.min.js"></script>
<script src="vendors/imagesLoaded/imagesloaded.pkgd.min.js"></script>
<script src="vendors/isotope/isotope.pkgd.min.js"></script>
<script src="js/theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script type="text/javascript">
    /**
     * 获得动态图，废弃
     */
    function getPic(num) {
        $.get("https://cn.bing.com/HPImageArchive.aspx?idx=0&n=" + num, function(data) {
            console.log(data);
        })
    }

    function getIndex() {
        $.get("http://127.0.0.1:8888/api/index", function(data) {
            data = JSON.parse(data);
            console.log(data);

            var title = data['title'];
            var articleList = data['articleList'];

            // 设置标题
            document.title = title;
            // 设置文章内容
            var articleRootNodeList = document.getElementById('post-masonry');
            console.log(articleRootNodeList);
            var innerHTML = "";
            for (i = 0; i < articleList.length; i++) {
                var article = articleList[i];
                innerHTML += "<article class='col-sm-4 post post-masonry post-format-image'>";
                    innerHTML += "<div class='post-wrapper row'>";
                        innerHTML += "<div class='featured-content row'>"
                            innerHTML += "<a href='single.html'><img src='images/posts/masonry/" + getRandNum() + ".jpg' alt='' class='img-responsive'></a>";
                            innerHTML += "</div>";
                            innerHTML += "<div class='post-excerpt row'>";
                                innerHTML += "<h5 class='post-meta'>";
                                    innerHTML += "<a href='#' class='date'>" + article.time + "</a>";
                                    innerHTML += "<span class='post-author'><i>by</i><a href='#'>南风斜冷</a></span>";
                                    innerHTML += "</h5>"
                                    innerHTML += "<h3 class='post-title'><a href='single.html" + "?articleId=" + article['articleId'] + "'>" + article.title + "</a></h3>";
                                    innerHTML += "<p>" + getContent(article.content, article.type) + "</p>";
                                        innerHTML += "<footer class='row'>";
                                            innerHTML += "<h5 class='taxonomy'><i>in</i> <a href='#'>image</a>, <a href='#'>entertainment</a></h5>";
                                            innerHTML += "<div class='response-count'><img src='images/comment-icon-gray.png' alt=''>5</div>";
                                            innerHTML += "</footer>";
                                            innerHTML += "</div>";
                                            innerHTML += "</div>";
                                            innerHTML += "</article>";
            }
            articleRootNodeList.innerHTML = innerHTML;
        });
    }

    getIndex();

    function getRandNum() {
        return parseInt(Math.random() * 4 + 1);
    }

    function getContent(content, type) {
        console.log(content);
        if (type == 'markdown') {
            return marked(content);
        } 
        if (type == 'html') {
            return content;
        }
    }

</script>
</body>
</html>
